<h1>ğŸ¸ Productos disponibles</h1>

<section class="product-grid">
  {{#each products}}
    <article class="product-card" data-id="{{this._id}}">
      <h3>{{this.title}}</h3>
      <p><strong>Precio:</strong> ${{this.price}}</p>

      {{#if this.category}}
        <p><strong>CategorÃ­a:</strong> {{this.category}}</p>
      {{/if}}

      {{#if this.stock}}
        <p><strong>Stock:</strong> {{this.stock}}</p>
      {{/if}}

      <!-- Link a vista detalle -->
      <a href="/products/{{this._id}}" class="btn-detail">
        ğŸ” Ver detalles
      </a>

      <!-- Selector de cantidad -->
      <div class="qty-box">
        <label for="qty-{{this._id}}">Cantidad:</label>
        <input
          id="qty-{{this._id}}"
          type="number"
          class="qty-input"
          value="1"
          min="1"
        />
      </div>

      <button class="add-to-cart">ğŸ›’ Agregar al carrito</button>
    </article>
  {{/each}}

  {{#unless products.length}}
    <p>No hay productos disponibles.</p>
  {{/unless}}
</section>

<!-- PaginaciÃ³n con sort + query preservados -->
<nav class="pagination">
  {{#if hasPrevPage}}
    <a 
      href="/products?page={{prevPage}}&limit={{limit}}&sort={{sort}}&query={{query}}"
      class="btn"
    >
      â¬…ï¸ Anterior
    </a>
  {{/if}}

  <span>PÃ¡gina {{page}} de {{totalPages}}</span>

  {{#if hasNextPage}}
    <a 
      href="/products?page={{nextPage}}&limit={{limit}}&sort={{sort}}&query={{query}}"
      class="btn"
    >
      Siguiente â¡ï¸
    </a>
  {{/if}}
</nav>

<script src="/js/products.js"></script>






